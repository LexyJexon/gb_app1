<!-- create_recipe.html -->
{{ template "header.html" . }}
<section>
<h2>Создание рецепта</h2>
<form action="/create-recipe" method="post" enctype="multipart/form-data">
    <label for="image">Изображение:</label>
    <input type="file" id="image" name="image" required><br>
    <label for="title">Название:</label>
    <input type="text" id="title" name="title" required><br>
    <label for="description">Описание:</label>
    <textarea id="description" name="description" required></textarea><br>
    <label for="recipe">Рецепт:</label>
    <textarea id="recipe" name="recipe" required></textarea><br>
    <div id="ingredients">
        <label>Ингредиенты:</label>
        <div id="ingredientFields">
            <div class="ingredient">
                <input type="text" name="ingredient_names[]" placeholder="Название ингредиента" required>
                <input type="number" name="ingredient_quantities[]" placeholder="Количество" required>
                <select name="ingredient_units[]">
                    <option value="шт.">шт</option>
                    <option value="г.">г</option>
                    <option value="мл.">мл</option>
                </select>
            </div>
        </div>
        <button type="button" onclick="addIngredient()">Добавить ингредиент</button>
    </div>
    <label for="cookTime">Время приготовления (в минутах):</label>
    <input type="number" id="cookTime" name="cookTime" required><br>
    <button type="submit">Создать рецепт</button>
</form>

<script>
    function addIngredient() {
        const ingredientFields = document.getElementById('ingredientFields');
        const newIngredient = document.createElement('div');
        newIngredient.className = 'ingredient';
        newIngredient.innerHTML = `
                <input type="text" name="ingredient_names[]" placeholder="Название ингредиента" required>
                <input type="number" name="ingredient_quantities[]" placeholder="Количество" required>
                <select name="ingredient_units[]">
                    <option value="шт.">шт</option>
                    <option value="г.">г</option>
                    <option value="мл.">мл</option>
                </select>
            `;
        ingredientFields.appendChild(newIngredient);
    }
</script>
</section>
{{ template "footer.html" . }}